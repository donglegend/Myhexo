---
title: mongodb概念
date: 2017-06-30 19:12:51
categories: javascript
tags: mongodb
---
实践之前，还是粗浅的了解一下理论吧。
<!-- more -->

在 mongodb 中基本的概念是文档、集合、数据库

## 数据库

- 一个mongodb中可以建立多个数据库。
- MongoDB的默认数据库为"db"，该数据库存储在data目录中。
- MongoDB的单个实例可以容纳多个独立的数据库，每一个都有自己的集合和权限，不同的数据库也放置在不同的文件中。
- "show dbs" 命令可以显示所有数据的列表。
- 执行 "db" 命令可以显示当前数据库对象或集合。
- 运行"use"命令，可以连接到一个指定的数据库。
- 有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库。
 * admin： 从权限的角度来看，这是"root"数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。
 * local: 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合
 * config: 当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的相关信息。


## 集合
- 集合就是 MongoDB 文档组，类似于 RDBMS （关系数据库管理系统：Relational Database Management System)中的表格。
- 集合存在于数据库中，集合没有固定的结构，这意味着你在对集合可以插入不同格式和类型的数据，但通常情况下我们插入集合的数据都会有一定的关联性。
比如，我们可以将以下不同数据结构的文档插入到集合中：
```
{"site":"http://donglegend.com/"}
{"site":"https://github.com/donglegend","name":"github"}
```
- 合法的集合名
 * 集合名不能是空字符串""。
 * 集合名不能含有\0字符（空字符)，这个字符表示集合名的结尾。
 * 集合名不能以"system."开头，这是为系统集合保留的前缀。
 * 用户创建的集合名字不能含有保留字符。有些驱动程序的确支持在集合名里面包含，这是因为某些系统生成的集合中包含该字符。除非你要访问这种系统创建的集合，否则千万不要在名字里出现$。　

 ## 文档
 文档是一组键值(key-value)对(即BSON)。MongoDB 的文档不需要设置相同的字段，并且相同的字段不需要相同的数据类型，这与关系型数据库有很大的区别，也是 MongoDB 非常突出的特点。
 
 文档其实也就是一行数据，比如：
 ```
 {"site":"https://github.com/donglegend","name":"github","author": "donglegend"}
 ```
